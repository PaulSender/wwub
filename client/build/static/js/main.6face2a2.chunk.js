(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{117:function(e,t,a){e.exports={navbar:"NavBar_navbar__3RIkw",logo:"NavBar_logo__XUnK9"}},119:function(e,t,a){e.exports={profileContainer:"Home_profileContainer__upKMo",itemsContainer:"Home_itemsContainer__3c73a",item:"Home_item__3b6ab"}},168:function(e,t,a){},169:function(e,t,a){},204:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(37),c=a.n(r),s=(a(168),a(138)),o=a(139),l=a(152),u=a(150),d=(a(169),a(18)),j=a(38),A=a(142),b="USER_LOADING",h="USER_LOADED",O="AUTH_ERROR",p="LOGIN_SUCCESS",f="LOGIN_FAIL",m="LOGOUT_SUCCESS",g="REGISTER_SUCCESS",v="REGISTER_FAIL",x="GET_ERRORS",y="CLEAR_ERRORS",N={msg:{},status:null,id:null},P=a(9),w={token:localStorage.getItem("token"),isAuthenticated:null,isLoading:!1,user:null},S=Object(j.c)({error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return{msg:t.payload.msg,status:t.payload.status,id:t.payload.id};case y:return{msg:{},status:null,id:null};default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(P.a)(Object(P.a)({},e),{},{isLoading:!0});case h:return Object(P.a)(Object(P.a)({},e),{},{isAuthenticated:!0,isLoading:!1,user:t.payload});case p:case g:return localStorage.setItem("token",t.payload.token),Object(P.a)(Object(P.a)(Object(P.a)({},e),t.payload),{},{isAuthenticated:!0,isLoading:!1});case O:case f:case m:case v:return localStorage.removeItem("token"),Object(P.a)(Object(P.a)({},e),{},{token:null,user:null,isAuthenticated:!1,isLoading:!1});default:return e}}}),R=[A.a],q=Object(j.e)(S,{},Object(j.d)(j.a.apply(void 0,R),window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__()||j.d)),C=a(19),T=a.n(C),U=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:x,payload:{msg:e,status:t,id:a}}},L=function(){return{type:y}},z=function(){return function(e,t){e({type:b}),T.a.get("/api/auth/user",V(t)).then((function(t){e({type:h,payload:t.data})})).catch((function(t){e(U(t.response.data,t.response.status)),e({type:O})}))}},V=function(e){var t=e().auth.token,a={headers:{"Content-Type":"application/json"}};return t&&(a.headers["x-auth-token"]=t),a},E=a(6),D=a.n(E),I=a(1);var X=Object(d.b)(null,{logout:function(){return window.location.pathname="/",{type:m}}})((function(e){return D.a.func.isRequired,Object(I.jsx)(n.Fragment,{children:Object(I.jsx)("button",{onClick:e.logout,children:"Logout"})})})),G="data:image/png;base64,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",F=a(117),W=a.n(F),H=a(122);var k=Object(d.b)((function(e){return{auth:e.auth}}),null)((function(e){return Object(I.jsxs)("div",{className:W.a.navbar,children:[Object(I.jsx)("img",{src:G,className:W.a.logo}),Object(I.jsxs)("ul",{children:[e.auth.isAuthenticated&&Object(I.jsx)("li",{children:Object(I.jsx)("a",{href:"/#/",children:Object(I.jsx)(X,{})})}),e.auth.isAuthenticated&&Object(I.jsx)("li",{children:Object(I.jsx)("a",{href:"/#/profile",children:Object(I.jsx)(H.a,{name:"user",size:"big"})})}),!e.auth.isAuthenticated&&Object(I.jsx)("li",{children:Object(I.jsx)("a",{href:"/#/login",children:Object(I.jsx)("button",{children:"Login"})})}),Object(I.jsx)("li",{children:Object(I.jsx)("a",{href:"/#/",children:Object(I.jsx)(H.a,{name:"home",size:"big"})})})]})]})})),Z=a(148),_=a(11),J=a(13),M=a(119),B=a.n(M),K=a(213),Q=a(214),Y=a(145),$=a.n(Y),ee=["t-shirt","sweatshirt","jacket","pants","shorts","long sleeve shirt"],te=[];ee.forEach((function(e){te.push({key:e,text:$.a.startCase(e),value:e})})),ee=te;var ae=a(149),ne=function(e){var t="";return[].slice.call(new Uint8Array(e)).forEach((function(e){return t+=String.fromCharCode(e)})),window.btoa(t)};var ie=function(e){return Object(I.jsx)("button",{onClick:e.handleDelete.bind(null,e.id),children:"Delete Item"})},re=function(e){var t=Object(n.useState)(),a=Object(J.a)(t,2),i=a[0],r=a[1];return e.user?(console.log(e.user),e.user.rated_items.includes(e._id)||e.updated?Object(I.jsx)("p",{children:"Thanks for rating this item!"}):Object(I.jsxs)("p",{children:["Rate this Item: ",Object(I.jsx)("input",{type:"number",name:"rating",onChange:function(e){r(e.target.value)}}),Object(I.jsx)("button",{onClick:e.handleRate.bind(null,{userID:e.user._id,itemID:e._id,rating:i}),children:"Rate"})]})):Object(I.jsx)("div",{})},ce=function(e){var t=e;return Object(I.jsxs)(Q.a,{children:[Object(I.jsx)(ae.a,{src:"data:image/*;base64,".concat(ne(t.image.data.data)),wrapped:!0,ui:!1}),Object(I.jsxs)(Q.a.Content,{children:[Object(I.jsx)(Q.a.Header,{children:t.name}),Object(I.jsx)(Q.a.Meta,{children:Object(I.jsx)("span",{className:"date",children:t.category})}),Object(I.jsxs)(Q.a.Description,{children:[Object(I.jsxs)("p",{children:["Rating: ",parseInt(t.ratings.reduce((function(e,t){return e+t}),0)/t.ratings.length),"/5"]}),Object(I.jsxs)("a",{href:t.url,children:[Object(I.jsx)(H.a,{name:"linkify"}),t.url]})]}),"profile"===e.page&&Object(I.jsx)(Q.a.Content,{extra:!0,children:Object(I.jsx)(ie,{id:t._id,handleDelete:e.handleDelete})}),"home"===e.page&&Object(I.jsx)(Q.a.Content,{extra:!0,children:Object(I.jsx)(re,Object(P.a)({},t))})]})]})};var se=Object(d.b)((function(e){return{auth:e.auth}}),null)((function(e){var t=Object(n.useState)(""),a=Object(J.a)(t,2),i=(a[0],a[1],Object(n.useState)()),r=Object(J.a)(i,2),c=r[0],s=r[1],o=Object(n.useState)(),l=Object(J.a)(o,2),u=l[0],d=l[1],j=Object(n.useState)(!1),A=Object(J.a)(j,2),b=A[0],h=A[1],O=function(e){T.a.post("/api/items/update",e).then((function(e){e&&d(u)})).catch((function(e){console.error(e)}))},p=function(e){T.a.post("/api/items/rate",e).then((function(e){e&&h(!0)})).catch((function(e){console.error(e)}))};return Object(n.useEffect)((function(){T.a.get("/api/items/").then((function(e){s(e.data)})),e.auth.isAuthenticated}),[e.auth]),Object(n.useEffect)((function(){T.a.get("/api/items/",{params:{category:u}}).then((function(e){s(e.data)}))}),[u]),Object(I.jsxs)("div",{children:[e.auth.user&&Object(I.jsxs)("h2",{children:["Welcome ",e.auth.user.name]}),Object(I.jsxs)("div",{className:B.a.profileContainer,children:[Object(I.jsx)(K.a,{className:B.a.inputs,required:!0,options:ee,name:"category",selection:!0,search:!0,placeholder:"Select Category",onChange:function(e,t){d(t.value)}}),Object(I.jsx)(Q.a.Group,{style:{width:"90%",margin:"auto auto"},itemsPerRow:3,children:c&&c.map((function(t){return Object(I.jsx)(ce,Object(P.a)(Object(P.a)({},t),{},{page:"home",user:e.auth.user,handleUpdate:O,handleRate:p,updated:b}))}))})]})]})})),oe=a(42),le=a(147),ue=a.n(le)()(),de=a(36),je=a.n(de),Ae=a(215);var be=Object(d.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,error:e.error}}),{register:function(e){var t=e.name,a=e.email,n=e.password;return function(e){var i=JSON.stringify({name:t,email:a,password:n});T.a.post("/api/users",i,{headers:{"Content-Type":"application/json"}}).then((function(t){e({type:g,payload:t.data})})).catch((function(t){e(U(t.response.data,t.response.status,"REGISTER_FAIL")),e({type:v})}))}},clearErrors:L})((function(e){var t=Object(n.useState)({name:"",email:"",password:""}),a=Object(J.a)(t,2),i=a[0],r=a[1],c=Object(n.useState)(null),s=Object(J.a)(c,2),o=s[0],l=s[1];D.a.bool,D.a.object.isRequired,D.a.func.isRequired,D.a.func.isRequired,Object(n.useEffect)((function(){"REGISTER_FAIL"===e.error.id&&l(e.error.msg.msg)}),[e.error]),Object(n.useEffect)((function(){e.isAuthenticated&&ue.push("/")}),[e.isAuthenticated]);var u=function(e){r(Object(P.a)(Object(P.a)({},i),{},Object(oe.a)({},e.target.name,e.target.value)))};return Object(I.jsxs)("div",{className:je.a.registerConatiner,children:[Object(I.jsx)("img",{className:je.a.logo,src:G}),o&&Object(I.jsx)(Ae.a,{negative:!0,className:je.a.message,children:Object(I.jsx)(Ae.a.Header,{children:o})}),Object(I.jsx)("input",{type:"text",onChange:u,value:i.name,name:"name",placeholder:"First and Last Name..."}),Object(I.jsx)("input",{type:"email",onChange:u,value:i.email,name:"email",placeholder:"Email..."}),Object(I.jsx)("input",{type:"password",onChange:u,value:i.password,name:"password",placeholder:"Password..."}),Object(I.jsx)("button",{className:je.a.submit,onClick:function(t){t.preventDefault();var a={name:i.name,email:i.email,password:i.password};e.clearErrors(),e.register(a)},children:"Register"}),Object(I.jsxs)("p",{children:["Have An Account? ",Object(I.jsx)("a",{href:"/#/login",children:"Login."})]})]})}));var he=Object(d.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,error:e.error}}),{login:function(e){var t=e.email,a=e.password;return function(e){var n=JSON.stringify({email:t,password:a});T.a.post("/api/auth",n,{headers:{"Content-Type":"application/json"}}).then((function(t){e({type:p,payload:t.data})})).catch((function(t){e(U(t.response.data,t.response.status,"LOGIN_FAIL")),e({type:f})}))}},clearErrors:L})((function(e){var t=Object(n.useState)({email:"",password:""}),a=Object(J.a)(t,2),i=a[0],r=a[1],c=Object(n.useState)(null),s=Object(J.a)(c,2),o=s[0],l=s[1];D.a.bool,D.a.object.isRequired,D.a.func.isRequired,D.a.func.isRequired,Object(n.useEffect)((function(){"LOGIN_FAIL"===e.error.id&&l(e.error.msg.msg)}),[e.error]),Object(n.useEffect)((function(){e.isAuthenticated&&ue.push(ue.location.pathname)}),[e.isAuthenticated]);var u=function(e){r(Object(P.a)(Object(P.a)({},i),{},Object(oe.a)({},e.target.name,e.target.value)))},d=function(t){t.preventDefault();var a={email:i.email,password:i.password};e.clearErrors(),e.login(a),setTimeout(void(e.isAuthenticated&&ue.push("/")),1e3)};return Object(I.jsxs)("div",{className:je.a.loginContainer,children:[Object(I.jsx)("img",{className:je.a.logo,src:G}),o&&Object(I.jsx)(Ae.a,{negative:!0,className:je.a.message,children:Object(I.jsx)(Ae.a.Header,{children:o})}),Object(I.jsx)("input",{type:"email",onChange:u,value:i.email,name:"email",placeholder:"Email..."}),Object(I.jsx)("input",{type:"password",onChange:u,value:i.password,name:"password",placeholder:"Password...",onKeyPress:function(e){"Enter"===e.key&&d(e)}}),Object(I.jsx)("button",{className:je.a.submit,onClick:d,children:"Login"}),Object(I.jsxs)("p",{children:["Don't have an account? ",Object(I.jsx)("a",{href:"/#/register",children:"Register Here."})]})]})})),Oe=a(29),pe=a.n(Oe);D.a.object.isRequired;var fe=Object(d.b)((function(e){return{auth:e.auth}}),null)((function(e){var t=Object(n.useState)(),a=Object(J.a)(t,2),i=a[0],r=a[1],c=Object(n.useState)(),s=Object(J.a)(c,2),o=s[0],l=s[1],u=Object(n.useState)(),d=Object(J.a)(u,2),j=d[0],A=d[1],b=Object(n.useState)(),h=Object(J.a)(b,2),O=h[0],p=h[1],f=Object(n.useState)(),m=Object(J.a)(f,2),g=m[0],v=m[1];Object(n.useEffect)((function(){r(e.auth.user)}),[e.auth]);var x=function(e){A(Object(P.a)(Object(P.a)({},j),{},Object(oe.a)({},e.target.name,e.target.value)))};return e.auth.isAuthenticated?Object(I.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log(i);var t=new FormData;t.append("image",o),t.append("values",JSON.stringify(j)),console.log(i._id),t.append("user",i._id),j.url&&j.name&&j.category&&j.rating&&o?T.a.post("/api/items/add",t,V(q.getState)).then((function(e){e&&(q.dispatch(z()),window.scroll(0,0),p("Success!"))})).catch((function(e){console.error(e)})):(window.scroll(0,0),p("Failed: Please Fill Out All Feilds Correctly"))},className:pe.a.container,children:[Object(I.jsx)("h3",{style:{marginTop:"1%"},children:"Add New Item"}),O&&Object(I.jsx)(Ae.a,{style:{height:"100%",width:"100%",margin:"auto auto"},negative:O.includes("Failed"),positive:O.includes("Success"),className:pe.a.message,children:Object(I.jsx)(Ae.a.Header,{children:O})}),Object(I.jsx)("div",{className:pe.a.imageContainer,children:Object(I.jsxs)("div",{children:[Object(I.jsx)("p",{children:"Upload an Image of the Item"}),Object(I.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){var t=e.target.files[0].name.split(".")[1];if("jpg"==t||"jpeg"==t||"png"==t||"PNG"===t){var a=e.target.files[0];v(URL.createObjectURL(a)),l(a)}else p("Failed: Only image files are allowed!")}}),Object(I.jsx)("img",{src:g,className:pe.a.image})]})}),Object(I.jsxs)("div",{className:pe.a.infoContainer,children:[Object(I.jsx)("input",{className:pe.a.inputs,required:!0,type:"url",name:"url",placeholder:"Link to item",onChange:x}),Object(I.jsx)("input",{className:pe.a.inputs,required:!0,type:"text",name:"name",placeholder:"Give this item a name",onChange:x}),Object(I.jsx)(K.a,{className:pe.a.inputs,required:!0,options:ee,name:"category",selection:!0,search:!0,placeholder:"Select Category",onChange:function(e,t){t.target=t,x(t)}}),Object(I.jsx)("input",{className:pe.a.inputs,required:!0,type:"number",name:"rating",placeholder:"Give this item a rating (out of 5)",onChange:x}),Object(I.jsx)("button",{type:"submit",children:"Submit"})]})]}):Object(I.jsx)("div",{children:"Please Login-in"})}));var me=Object(d.b)((function(e){return{auth:e.auth}}),null)((function(e){var t=Object(n.useState)(),a=Object(J.a)(t,2),i=a[0],r=a[1];Object(n.useEffect)((function(){T.a.get("/api/items/",{params:{user:e.auth.user}}).then((function(e){r(e.data)}))}),[e.auth]);var c=function(t){T.a.post("api/items/delete",{id:t,user:e.auth.user},V(q.getState)).then((function(e){r(e.data)}))};return Object(I.jsxs)("div",{className:pe.a.profileContainer,children:[Object(I.jsx)("button",{onClick:function(){ue.push("/add")},style:{width:"10%",justifySelf:"end"},children:"Add Item"}),Object(I.jsx)(Q.a.Group,{style:{width:"90%",margin:"auto auto"},itemsPerRow:3,children:i&&i.map((function(e){return Object(I.jsx)(ce,Object(P.a)(Object(P.a)({},e),{},{page:"profile",handleDelete:c}))}))})]})})),ge={Home:se,Register:be,Login:he,AddItem:fe,Profile:me};var ve=function(){return Object(I.jsx)("div",{children:Object(I.jsx)("h2",{children:"Oh No! The page you are looking for cannot be found."})})},xe=function(e){if(e.auth.isAuthenticated){var t=ge[e.component];return Object(I.jsx)(t,{})}return Object(I.jsx)(_.a,{to:"/login"})},ye=Object(d.b)((function(e){return{auth:e.auth}}),null)((function(e){return Object(I.jsx)(Z.a,{children:Object(I.jsxs)(_.d,{children:[Object(I.jsx)(_.b,{exact:!0,path:"/",children:Object(I.jsx)(se,{})}),Object(I.jsx)(_.b,{exact:!0,path:"/register",children:Object(I.jsx)(be,{})}),Object(I.jsx)(_.b,{exact:!0,path:"/login",children:Object(I.jsx)(he,{})}),Object(I.jsx)(_.b,{exact:!0,path:"/add",children:Object(I.jsx)(xe,Object(P.a)(Object(P.a)({},e),{},{component:"AddItem"}))}),Object(I.jsx)(_.b,{exact:!0,path:"/profile",children:Object(I.jsx)(xe,Object(P.a)(Object(P.a)({},e),{},{component:"Profile"}))}),Object(I.jsx)(_.b,{path:"*",component:ve})]})})})),Ne=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){q.dispatch(z())}},{key:"render",value:function(){return Object(I.jsxs)(d.a,{store:q,children:[Object(I.jsx)(k,{}),Object(I.jsx)("div",{className:"App",children:Object(I.jsx)(ye,{})})]})}}]),a}(n.Component),Pe=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,217)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),n(e),i(e),r(e),c(e)}))};T.a.defaults.baseURL="http://18.218.174.222:8080",T.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",c.a.render(Object(I.jsx)(i.a.StrictMode,{children:Object(I.jsx)(Ne,{})}),document.getElementById("root")),Pe()},29:function(e,t,a){e.exports={profileContainer:"Profile_profileContainer__2HsQe",itemsContainer:"Profile_itemsContainer__3sBjU",item:"Profile_item__6iQbI",infoContainer:"Profile_infoContainer__pmqLT",imageContainer:"Profile_imageContainer__3tx61",inputs:"Profile_inputs__3Wlyg",image:"Profile_image__12c9q",container:"Profile_container__2R-rH"}},36:function(e,t,a){e.exports={loginContainer:"Auth_loginContainer__2mR1P",logo:"Auth_logo__zBB9I",message:"Auth_message__2xvBR",submit:"Auth_submit__2_Ahx",registerConatiner:"Auth_registerConatiner__3aoUu"}}},[[204,1,2]]]);
//# sourceMappingURL=main.6face2a2.chunk.js.map